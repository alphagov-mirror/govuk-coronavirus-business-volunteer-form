<% content_for :title do %><%= t('coronavirus_form.questions.offer_space.title') %><% end %>
<% content_for :meta_tags do %>
  <meta name="description" content="<%= t('coronavirus_form.questions.offer_space_type.title') %>" />
<% end %>

<% content_for :back_link do %>
  <%= render "govuk_publishing_components/components/back_link", { href: previous_path } %>
<% end %>

<%= form_tag({},
  "data-module": "track-coronavirus-form-business-offer-space-type",
  "data-question-key": "offer_space_type",
  "id": "offer_space_type",
  "novalidate": "true"
) do %>
  <%= render "govuk_publishing_components/components/checkboxes", {
    heading: t('coronavirus_form.questions.offer_space_type.title'),
    hint_text: t('coronavirus_form.questions.offer_space_type.hint'),
    is_page_heading: true,
    name: "offer_space_type[]",
    error: error_items("offer_space_type"),
    items: [
      {
        value: t('coronavirus_form.questions.offer_space_type.options.warehouse_space.label'),
        label: t('coronavirus_form.questions.offer_space_type.options.warehouse_space.label'),
        checked: @form_responses.fetch(:offer_space_type, []).include?(t('coronavirus_form.questions.offer_space_type.options.warehouse_space.label')),
        conditional: render("govuk_publishing_components/components/input", {
          label: {
            text: t('coronavirus_form.questions.offer_space_type.options.warehouse_space.description.label'),
          },
          id: "warehouse_space_description",
          name: "warehouse_space_description",
          error_message: error_items("warehouse_space_description"),
          value: @form_responses[:warehouse_space_description],
          width: 10,
        })
      },
      {
        value: t('coronavirus_form.questions.offer_space_type.options.office_space.label'),
        label: t('coronavirus_form.questions.offer_space_type.options.office_space.label'),
        checked: @form_responses.fetch(:offer_space_type, []).include?(t('coronavirus_form.questions.offer_space_type.options.office_space.label')),
        conditional: render("govuk_publishing_components/components/input", {
          label: {
            text: t('coronavirus_form.questions.offer_space_type.options.office_space.description.label'),
          },
          id: "office_space_description",
          name: "office_space_description",
          error_message: error_items("office_space_description"),
          value: @form_responses[:office_space_description],
          width: 10,
        })
      },
      {
        value: t('coronavirus_form.questions.offer_space_type.options.other.label'),
        label: t('coronavirus_form.questions.offer_space_type.options.other.label'),
        checked: @form_responses.fetch(:offer_space_type, []).include?(t('coronavirus_form.questions.offer_space_type.options.other.label')),
        conditional: render("govuk_publishing_components/components/input", {
          label: {
            text: t('coronavirus_form.questions.offer_space_type.options.other.description.label'),
          },
          id: "offer_space_type_other",
          name: "offer_space_type_other",
          error_message: error_items("offer_space_type_other"),
          value: @form_responses[:offer_space_type_other],
          width: 10,
        })
      },
    ]
  } %>

  <%= render "govuk_publishing_components/components/character_count", {
    textarea: {
      label: {
        text: t("coronavirus_form.questions.offer_space_type.general_space_description.label"),
        heading_size: "m"
      },
      name: "general_space_description",
      error_message: error_items("general_space_description"),
      value: @form_responses[:general_space_description]
    },
    maxlength: 1000
  } %>

  <%= render partial: "coronavirus_form/how_much_charge", locals: { cost_field: "space_cost" } %>

  <%= render "govuk_publishing_components/components/button", text: t("coronavirus_form.submit_and_next"), margin_bottom: true %>
<% end %>
