<% content_for :title do %><%= t('coronavirus_form.questions.contact_details.title') %><% end %>
<% content_for :meta_tags do %>
  <meta name="description" content="<%= t('coronavirus_form.questions.contact_details.title') %>" />
<% end %>

<% content_for :back_link do %>
  <%= render "govuk_publishing_components/components/back_link", { href: previous_path } %>
<% end %>

<%= render "govuk_publishing_components/components/title", {
  title:t("coronavirus_form.questions.contact_details.title"),
  margin_top: 0
} %>

<%= form_tag({},
  "data-module": "track-coronavirus-form-business-contact-details",
  "data-question-key": "contact_details",
  "id": "contact_details",
  "novalidate": "true"
) do %>
<%= render "govuk_publishing_components/components/input", {
  label: {
    text: t('coronavirus_form.questions.contact_details.contact_name.label')
  },
  id: "contact_name",
  name: "contact_name",
  error_message: error_items("contact_name"),
  value: @form_responses.dig(:contact_details, :contact_name),
} %>
<%= render "govuk_publishing_components/components/input", {
  label: {
    text: t('coronavirus_form.questions.contact_details.role.label')
  },
  name: "role",
  error_message: error_items('role'),
  value: @form_responses.dig(:contact_details, :role),
} %>
<%= render "govuk_publishing_components/components/input", {
  label: {
    text: t('coronavirus_form.questions.contact_details.phone_number.label')
  },
  id: "phone_number",
  name: "phone_number",
  error_message: error_items('phone_number'),
  value: @form_responses.dig(:contact_details, :phone_number),
} %>
<%= render "govuk_publishing_components/components/input", {
  label: {
    text: t('coronavirus_form.questions.contact_details.email.label')
  },
  id: "email",
  name: "email",
  error_message: error_items('email'),
  value: @form_responses.dig(:contact_details, :email),
  type: "email"
} %>

<%= render "govuk_publishing_components/components/button", text: t("coronavirus_form.submit_and_next"), margin_bottom: true %>
<% end %>
